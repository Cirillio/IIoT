# ADAM Monitoring System

–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É Modbus TCP. –ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è —Å–ª—É–∂–±—É –æ–ø—Ä–æ—Å–∞ –¥–∞—Ç—á–∏–∫–æ–≤, –≤–µ–±-API –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º, –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ —Å–∏–º—É–ª—è—Ç–æ—Ä –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è.

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ (Docker containers):

1. **modbus_client** (.NET 10 Worker):
   - –§–æ–Ω–æ–≤–∞—è —Å–ª—É–∂–±–∞.
   - –û–ø—Ä–∞—à–∏–≤–∞–µ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–∏–ª–∏ —Å–∏–º—É–ª—è—Ç–æ—Ä) Modbus TCP.
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑—É PostgreSQL.
2. **modbus_web_gateway** (.NET 10 Web API):
   - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ–±—Ä–∞–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º.
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Swagger –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É `/swagger`.
3. **adam_db** (PostgreSQL 15):
   - –•—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ—Ä–µ–Ω–∏–π –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
4. **modbus_sim** (Python 3.12 + PyModbus):
   - –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π —ç–º—É–ª—è—Ç–æ—Ä –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ ADAM-6017.
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–∏–Ω—É—Å–æ–∏–¥–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ –ø–æ—Ä—Ç—É 5020.

–ü–∞–ø–∫–∞ `DipMod/` —Å–æ–¥–µ—Ä–∂–∏—Ç –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –¥–µ—Å–∫—Ç–æ–ø–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (WPF Legacy), –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ Docker-—Å–±–æ—Ä–∫–µ.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è **Docker** –∏ **Make**.

### 1. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

```bash
make up
```

–ö–æ–º–∞–Ω–¥–∞ —Å–æ–±–µ—Ä–µ—Ç –æ–±—Ä–∞–∑—ã –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ.
_API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:_ `http://localhost:8080/swagger`

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞ (–æ–ø—Ä–æ—Å –¥–∞—Ç—á–∏–∫–æ–≤):

```bash
make logs-client
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è `[DBG] Data successfully saved to DB`.

### 3. –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
make down
```

## üõ† –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –û—Ç–ª–∞–¥–∫–∞

–ü—Ä–æ–µ–∫—Ç —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `Makefile`. –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥:

| –ö–æ–º–∞–Ω–¥–∞            | –û–ø–∏—Å–∞–Ω–∏–µ                                                     |
| :----------------- | :----------------------------------------------------------- |
| `make up`          | –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã                                      |
| `make down`        | –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤                                        |
| `make status`      | –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤                                           |
| `make logs`        | –õ–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤                                           |
| `make logs-client` | –õ–æ–≥–∏ Modbus –∫–ª–∏–µ–Ω—Ç–∞                                          |
| `make db-shell`    | –í—Ö–æ–¥ –≤ SQL –∫–æ–Ω—Å–æ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö                               |
| `make clean`       | **–ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞** (—É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö Docker) |

–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º –ø—Ä–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ —Å–º. –≤ —Ñ–∞–π–ª–µ [TROUBLESHOOTING_DOCKER.md](TROUBLESHOOTING_DOCKER.md).

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Ä—Ç–æ–≤ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `docker-compose.yml` –∏ `modbusClient/appsettings.json`.

- **Modbus Port:** 5020 (Simulator)
- **Web API Port:** 8080
- **DB Port:** 5432
